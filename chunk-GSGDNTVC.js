import{a as J}from"./chunk-7DV4EETS.js";import{b as f,c as b}from"./chunk-Q6J33HRF.js";import{E as l,R as u,Va as m,Xb as a,f as i,g as h,ga as c,h as p,ra as g,t as n,w as d}from"./chunk-XLW5XAEJ.js";var U=(()=>{var e;let r=class r{constructor(){h(this,e,void 0);this.http=g(b),this.baseUrl=J.baseUrl,p(this,e,m({loadingJWT:!0,propertiesJWT:[]})),this.propertiesJWT=a(()=>i(this,e).call(this).propertiesJWT),this.loadingJWT=a(()=>i(this,e).call(this).loadingJWT)}getAuthHeaders(){let t=localStorage.getItem("token");return new f().set("Authorization",`Bearer ${t}`)}getProperties(){return this.http.get(`${this.baseUrl}/properties`,{headers:this.getAuthHeaders()}).pipe(d(t=>t.filter(s=>s.deletedAt===null)),u(t=>{i(this,e).set({loadingJWT:!1,propertiesJWT:t})}),l(t=>n(t)))}getPropertyById(t){return this.http.get(`${this.baseUrl}/properties/${t}`,{headers:this.getAuthHeaders()})}createProperty(t){return this.http.post(`${this.baseUrl}/properties`,t,{headers:this.getAuthHeaders()})}updatePropertyJWT(t,s){return this.http.patch(`${this.baseUrl}/properties/${t}`,s,{headers:this.getAuthHeaders()})}deletePropertybyIDJWT(t){return this.http.delete(`${this.baseUrl}/properties/${t}`,{headers:this.getAuthHeaders()})}};e=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"});let o=r;return o})();export{U as a};
