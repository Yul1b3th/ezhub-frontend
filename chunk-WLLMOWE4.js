import{a as B}from"./chunk-BVGAVNIQ.js";import{a as $}from"./chunk-GKQ5SLIY.js";import{a as j}from"./chunk-GSGDNTVC.js";import{a as k,b as M,c as o,d as O,e as P,f as A,g as I,h as q,i as L,j as T,k as D,l as V,m as R,n as z,o as G}from"./chunk-ACG7GV2X.js";import{X as E}from"./chunk-P7LCE7ML.js";import"./chunk-7DV4EETS.js";import"./chunk-Q6J33HRF.js";import{k as N,o as F}from"./chunk-OEVEVLY2.js";import{$a as c,Bb as d,Db as S,Fb as C,Ja as l,Y as _,gb as s,jb as b,nb as i,ob as e,pb as p,ra as u,tb as w,ub as f}from"./chunk-XLW5XAEJ.js";function H(r,n){if(r&1&&(i(0,"div",24),p(1,"p",25),e()),r&2){let m=f(),t;l(),s("errors",(t=m.addForm.get("name"))==null?null:t.errors)("fieldName","name")}}function J(r,n){if(r&1&&(i(0,"div",24),p(1,"p",25),e()),r&2){let m=f(),t;l(),s("errors",(t=m.addForm.get("details"))==null?null:t.errors)("fieldName","details")}}function K(r,n){if(r&1&&(i(0,"option",26),d(1),e()),r&2){let m=n.$implicit;s("value",m.id),l(),S(" ",m.name," ")}}function Q(r,n){if(r&1&&(i(0,"div",24),p(1,"p",25),e()),r&2){let m=f(),t;l(),s("errors",(t=m.addForm.get("propertyId"))==null?null:t.errors)("fieldName","propertyId")}}function U(r,n){if(r&1&&(i(0,"div",24),p(1,"p",25),e()),r&2){let m=f(),t;l(),s("errors",(t=m.addForm.get("precio"))==null?null:t.errors)("fieldName","precio")}}var le=(()=>{let n=class n{constructor(){this.fb=u(z),this.router=u(E),this.roomService=u(B),this.propertyService=u(j),this.formSubmitted=!1,this.properties=[],this.addForm=this.fb.group({name:["",[o.required,o.minLength(3),o.maxLength(50)]],details:["",[o.required,o.minLength(3),o.maxLength(500)]],precio:["",o.required],is_available:[!1,o.required],room_size:[10,o.required],bed_type:["Single bed",o.required],available_from:["2024-03-01",o.required],utilities_included:[!1,o.required],deposit_required:[!1,o.required],services_included:["Contrato de alquiler, Servicio de limpieza",o.maxLength(500)],photos:["1.jpg",o.maxLength(5e3)],amenityIds:[[1,2]],propertyId:["",o.required]})}ngOnInit(){this.propertyService.getProperties().subscribe(t=>{this.properties=t})}onSubmit(){if(this.formSubmitted=!0,console.log("onSubmit"),console.log(this.addForm.errors),this.addForm.valid){console.log("this.addForm.valid");let t=this.addForm.value;t.precio=Number(t.precio),t.propertyId=Number(t.propertyId),this.roomService.createRoom(t).subscribe(()=>{this.router.navigate(["/publish/rooms"])})}}onNoClick(){this.router.navigate(["/publish/rooms"])}};n.\u0275fac=function(v){return new(v||n)},n.\u0275cmp=_({type:n,selectors:[["app-add"]],standalone:!0,features:[C],decls:44,vars:6,consts:[[1,"container","mx-auto","px-5","my-10"],[1,"w-full","mx-auto","justify-center","max-w-[45rem]"],[1,"btn","btn-small","btn-outline-primary",3,"click"],[1,"text-center","text-4xl","font-semibold","mb-5"],[1,"form"],[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"mb-2"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","name",1,"w-full","mt-2"],["class","w-fit bg-red-100 px-2 py-[0.4rem] rounded-md border border-red-500 text-sm text-red-500"],["for","details"],["id","details","type","text","placeholder","Details","rows","10","formControlName","details",1,"w-full","mt-2"],["for","propertyId"],["id","propertyId","formControlName","propertyId",1,"mt-2"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","precio"],["id","precio","type","number","placeholder","Precio","min","10","formControlName","precio",1,"mt-2"],[1,"mb-4","flex"],["for","is_available",1,"mb-0","mr-1"],["id","is_available","type","checkbox","value","IsAvailable","formControlName","is_available"],[1,"flex","items-center","gap-5"],["type","submit",1,"btn","btn-normal","btn-primary"],[1,"w-fit","bg-red-100","px-2","py-[0.4rem]","rounded-md","border","border-red-500","text-sm","text-red-500"],["roomLabel","",3,"errors","fieldName"],[3,"value"]],template:function(v,a){if(v&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),w("click",function(){return a.onNoClick()}),d(3," Back "),e(),i(4,"h1",3),d(5,"Add New Room"),e(),i(6,"div",4)(7,"div")(8,"form",5),w("ngSubmit",function(){return a.onSubmit()}),i(9,"div")(10,"div",6)(11,"div",7)(12,"label",8),d(13,"Name"),e(),p(14,"input",9),e(),c(15,H,2,2,"div",10),e(),i(16,"div",6)(17,"div",7)(18,"label",11),d(19,"Details"),e(),p(20,"textarea",12),e(),c(21,J,2,2,"div",10),e(),i(22,"div",6)(23,"div",7)(24,"label",13),d(25,"Property"),e(),i(26,"select",14)(27,"option",15),d(28,"Select a property"),e(),c(29,K,2,2,"option",16),e()(),c(30,Q,2,2,"div",10),e(),i(31,"div",6)(32,"div",7)(33,"label",17),d(34,"Precio"),e(),p(35,"input",18),e(),c(36,U,2,2,"div",10),e(),i(37,"div",19)(38,"label",20),d(39,"Is Available"),e(),p(40,"input",21),e()(),i(41,"div",22)(42,"button",23),d(43," Save "),e()()()()()()()),v&2){let g,h,x,y;l(8),s("formGroup",a.addForm),l(7),b(15,a.formSubmitted&&((g=a.addForm.get("name"))!=null&&g.errors)?15:-1),l(6),b(21,a.formSubmitted&&((h=a.addForm.get("details"))!=null&&h.errors)?21:-1),l(8),s("ngForOf",a.properties),l(),b(30,a.formSubmitted&&((x=a.addForm.get("propertyId"))!=null&&x.errors)?30:-1),l(6),b(36,a.formSubmitted&&((y=a.addForm.get("precio"))!=null&&y.errors)?36:-1)}},dependencies:[F,N,G,A,D,V,M,I,k,T,O,P,R,q,L,$],styles:[".form[_ngcontent-%COMP%]{width:100%;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity));padding:1.25rem 1.25rem 1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}[_ngcontent-%COMP%]:is(.dark   .form)[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:hsl(0 0% 25% / var(--tw-bg-opacity))}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[_ngcontent-%COMP%]{display:block;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));padding:.5rem .75rem;line-height:1.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:hsl(161.647 70% 52% / var(--tw-border-opacity));--tw-shadow: 0 0 2px 3px hsla(161.647, 70%, 52%, .3);--tw-shadow-colored: 0 0 2px 3px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}textarea[_ngcontent-%COMP%]{display:block;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));padding:.5rem .75rem;line-height:1.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:hsl(161.647 70% 52% / var(--tw-border-opacity));--tw-shadow: 0 0 2px 3px hsla(161.647, 70%, 52%, .3);--tw-shadow-colored: 0 0 2px 3px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}select[_ngcontent-%COMP%]{display:block;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));padding:.5rem .75rem;line-height:1.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}select[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:hsl(161.647 70% 52% / var(--tw-border-opacity));--tw-shadow: 0 0 2px 3px hsla(161.647, 70%, 52%, .3);--tw-shadow-colored: 0 0 2px 3px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}"]});let r=n;return r})();export{le as default};
