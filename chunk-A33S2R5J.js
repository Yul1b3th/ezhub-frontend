import{a as T}from"./chunk-BVGAVNIQ.js";import{a as V}from"./chunk-GKQ5SLIY.js";import{a as k,b as N,c as t,d as F,e as M,f as q,g as P,h as R,i as D,m as I,n as L,o as O}from"./chunk-ACG7GV2X.js";import{J as S,X as E}from"./chunk-P7LCE7ML.js";import"./chunk-7DV4EETS.js";import"./chunk-Q6J33HRF.js";import{o as C}from"./chunk-OEVEVLY2.js";import{$a as h,Bb as i,Cb as _,Fb as y,Ja as m,Y as x,gb as u,jb as v,nb as r,ob as e,pb as s,ra as p,tb as b,ub as w}from"./chunk-XLW5XAEJ.js";function A(n,l){if(n&1&&(r(0,"div",22),s(1,"p",23),e()),n&2){let f=w(),o;m(),u("errors",(o=f.editForm.get("name"))==null?null:o.errors)("fieldName","name")}}function G(n,l){if(n&1&&(r(0,"div",22),s(1,"p",23),e()),n&2){let f=w(),o;m(),u("errors",(o=f.editForm.get("details"))==null?null:o.errors)("fieldName","details")}}var X=(()=>{let l=class l{constructor(){this.fb=p(L),this.router=p(E),this.route=p(S),this.roomService=p(T),this.formSubmitted=!1,this.roomId=0,this.roomName=null,this.photoUrl=null,this.editForm=this.fb.group({name:["",[t.required,t.minLength(3),t.maxLength(50)]],details:["",[t.required,t.minLength(3),t.maxLength(500)]],precio:["",t.required],is_available:["false",t.required],room_size:["0",t.required],bed_type:["",t.required],available_from:["",t.required],utilities_included:["false",t.required],deposit_required:["false",t.required],services_included:["false",t.maxLength(500)],photos:["",t.maxLength(5e3)],propertyId:[0,t.required]}),this.route.params.subscribe(o=>{this.roomId=o.id,this.roomService.getRoomById(this.roomId).subscribe(d=>{this.editForm.patchValue(d),this.roomName=d.name})})}onSubmit(){if(this.formSubmitted=!0,this.editForm.valid){let o=this.editForm.value;o.precio=Number(o.precio),this.roomService.updateRoomJWT(this.roomId,o).subscribe(()=>{this.router.navigate(["/publish/rooms"])})}}onNoClick(){this.router.navigate(["/publish/rooms"])}};l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=x({type:l,selectors:[["app-edit"]],standalone:!0,features:[y],decls:37,vars:4,consts:[[1,"cntainer","mx-auto","px-5","my-10"],[1,"w-full","mx-auto","justify-center","max-w-[45rem]"],[1,"btn","btn-small","btn-outline-primary",3,"click"],[1,"text-center","text-4xl","font-semibold","mb-5"],[1,"form"],[1,"mb-4","text-lg"],[1,"font-semibold"],[3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"mb-2"],["for","name"],["formControlName","name","id","name","type","text","placeholder","Name",1,"w-full"],["class","w-full bg-red-100 px-2 py-[0.4rem] rounded-md border border-red-500 text-sm text-red-500"],["for","details"],["name","details","rows","10","formControlName","details","id","details","type","text","placeholder","Details",1,"w-full"],["for","precio"],["formControlName","precio","id","precio","type","number","placeholder","Precio","min","10"],[1,"mb-4","flex"],["for","is_available"],["formControlName","is_available","id","is_available","type","checkbox"],[1,"flex","items-center","gap-5"],["type","submit",1,"btn","btn-normal","btn-primary",3,"click"],[1,"w-full","bg-red-100","px-2","py-[0.4rem]","rounded-md","border","border-red-500","text-sm","text-red-500"],["roomLabel","",3,"errors","fieldName"]],template:function(d,a){if(d&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),b("click",function(){return a.onNoClick()}),i(3," Back "),e(),r(4,"h1",3),i(5,"Edit Room Details"),e(),r(6,"div",4)(7,"h2",5),i(8," Editing Room: "),r(9,"span",6),i(10),e()(),r(11,"div")(12,"form",7),b("ngSubmit",function(){return a.onSubmit()}),r(13,"div")(14,"div",8)(15,"div",9)(16,"label",10),i(17,"Name"),e(),s(18,"input",11),e(),h(19,A,2,2,"div",12),e(),r(20,"div",8)(21,"div",9)(22,"label",13),i(23,"Details"),e(),s(24,"textarea",14),e(),h(25,G,2,2,"div",12),e(),r(26,"div",8)(27,"label",15),i(28,"Precio"),e(),s(29,"input",16),e(),r(30,"div",17)(31,"label",18),i(32,"Is Available"),e(),s(33,"input",19),e()()()(),r(34,"div",20)(35,"button",21),b("click",function(){return a.onSubmit()}),i(36," Save "),e()()()()()),d&2){let c,g;m(10),_(a.roomName),m(2),u("formGroup",a.editForm),m(7),v(19,a.formSubmitted&&((c=a.editForm.get("name"))!=null&&c.errors)?19:-1),m(6),v(25,a.formSubmitted&&((g=a.editForm.get("details"))!=null&&g.errors)?25:-1)}},dependencies:[C,O,q,N,P,k,F,M,I,R,D,V],styles:[".form[_ngcontent-%COMP%]{width:100%;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity));padding:1.25rem 1.25rem 1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}[_ngcontent-%COMP%]:is(.dark   .form)[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:hsl(0 0% 25% / var(--tw-bg-opacity))}label[_ngcontent-%COMP%]{margin-bottom:.5rem;display:block;font-weight:700}input[_ngcontent-%COMP%]{display:block;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));padding:.5rem .75rem;line-height:1.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}input[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:hsl(161.647 70% 52% / var(--tw-border-opacity));--tw-shadow: 0 0 2px 3px hsla(161.647, 70%, 52%, .3);--tw-shadow-colored: 0 0 2px 3px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}textarea[_ngcontent-%COMP%]{display:block;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(228 228 231 / var(--tw-border-opacity));padding:.5rem .75rem;line-height:1.25rem;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}textarea[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:hsl(161.647 70% 52% / var(--tw-border-opacity));--tw-shadow: 0 0 2px 3px hsla(161.647, 70%, 52%, .3);--tw-shadow-colored: 0 0 2px 3px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);outline:2px solid transparent;outline-offset:2px}"]});let n=l;return n})();export{X as default};
