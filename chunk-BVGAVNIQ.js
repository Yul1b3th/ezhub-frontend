import{a as $}from"./chunk-7DV4EETS.js";import{b,c as f}from"./chunk-Q6J33HRF.js";import{E as d,R as p,Va as g,Xb as a,f as o,g as h,ga as u,h as n,ra as c,t as m,w as l}from"./chunk-XLW5XAEJ.js";var I=(()=>{var e;let r=class r{constructor(){h(this,e,void 0);this.http=c(f),this.baseUrl=$.baseUrl,n(this,e,g({loadingJWT:!0,roomsJWT:[]})),this.roomsJWT=a(()=>o(this,e).call(this).roomsJWT),this.loadingJWT=a(()=>o(this,e).call(this).loadingJWT)}getAuthHeaders(){let t=localStorage.getItem("token");return new b().set("Authorization",`Bearer ${t}`)}getRooms(){return this.http.get(`${this.baseUrl}/rooms`,{headers:this.getAuthHeaders()}).pipe(l(t=>t.filter(s=>s.deletedAt===null)),p(t=>{o(this,e).set({loadingJWT:!1,roomsJWT:t})}),d(t=>m(t)))}getRoomById(t){return this.http.get(`${this.baseUrl}/rooms/${t}`,{headers:this.getAuthHeaders()})}createRoom(t){return console.log("createRoom"),this.http.post(`${this.baseUrl}/rooms`,t,{headers:this.getAuthHeaders()})}updateRoomJWT(t,s){return this.http.patch(`${this.baseUrl}/rooms/${t}`,s,{headers:this.getAuthHeaders()})}deleteRoombyIDJWT(t){return this.http.delete(`${this.baseUrl}/rooms/${t}`,{headers:this.getAuthHeaders()})}getRoomAmenities(t){return this.http.get(`${this.baseUrl}/public-rooms/${t}/amenities`)}};e=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{I as a};
